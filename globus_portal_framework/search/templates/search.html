{%extends "components/base.html"%}

{% load static %}

{%block title%}Search{%endblock%}

{%block headextras%}

<link rel="stylesheet" type="text/css" href="{% static 'css/search.css' %}" />

{%endblock%}

{%block body%}
  {%include "components/header.html"%}

<div class="container">

  <form id="search-form" name="search_form" method="POST" action="/">{% csrf_token %}
    <input type="text" id="search-input" autocomplete="off"
           data-provide="typeahead" name="q"
           placeholder="Start your search here">
    <button id="search-btn" name="search_btn" type="submit"
            class="btn btn-default glyphicon glyphicon-search">
    </button>
    <input type="text" id="index-select" name="index-select"
           value="MDF" data-provide="typeahead" autocomplete="off"/>
    <button id="index-select-dropdown"
            class="btn btn-xs glyphicon glyphicon-chevron-down">
    </button>
    <!--<button id="bag-btn" class="btn btn-default">-->
        <!--({{ result_count }}) Cart-->
    <!--</button>-->
  </form>
  <div class="checkbox">
    <label>
      <input type="checkbox" value="advanced"
             id="advanced-search-checkbox">
      Enable Advanced Searching Options
    </label>
  </div>

  <div class="row">
    <div id="sidebar" class="col-xs-12 col-sm-4 col-md-4">
      <div class="panel panel-default">
        <div class="panel-heading" data-toggle="collapse" data-target="#filters">
          <h3 class="panel-title dropdown">Filters <span class="caret"></span></h3>
        </div>
        <div class="panel-body" id="filters">
          <div id="facet-container">
            {% include "search-facets.html" %}
          </div>
        </div>
      </div>
    </div>

    <div id="content" class="col-xs-12 col-sm-8 col-md-8">

      <div id="results" style="display: inline;">
        {% if logged_in %}
        <p>You are searching as <b>{{name}}</b> (<i><small>{{email}}</small></i>)</p>
        {% else %}
        <div class="well">NOTE: Your search results are limited. Logging in can improve search results by displaying private results if you have permissions associated with your account.
        </div>
        {% endif %}
        {% include "search-results.html" %}
        <nav aria-label="Search results pages" class="text-center">
              <ul id="pagination" class="pagination"></ul>
        </nav>
        </div>

      </div>
  </div>
</div>
{% endblock %}
